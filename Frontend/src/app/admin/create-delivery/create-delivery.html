<div class="dashboard-wrapper" style="position: relative; min-height: 100vh;">
  <app-admin-sidebar></app-admin-sidebar>
  
  <h2 style="margin-left: 250px;">Create New Delivery</h2>
  <div class="create-cont" style="margin-left: 250px;">
<div class="create">
    <div class="sender">
        <h3>Sender Information</h3>
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="example@gmail.com" required [(ngModel)]="senderEmail" name="senderEmail">
        <label for="Country">Country/Region</label>
        <input type="text" id="country" placeholder="Kenya" required [(ngModel)]="senderCountry" name="senderCountry">
        <div class="name">
            <div class="left">
                <label for="name">First Name</label>
                <input type="text" placeholder="Liz" [(ngModel)]="senderFirstName" name="senderFirstName">
            </div>
            <div class="right">
                <label for="name">Last Name</label>
                <input type="text" placeholder="Beth" [(ngModel)]="senderLastName" name="senderLastName">
            </div>
        </div>
        <label for="address">Street Address</label>
        <input type="text" placeholder="423 Elm Street" [(ngModel)]="senderAddress" name="senderAddress">
        <div class="street">
            <div class="left">
                <label for="name">City</label>
                <input type="text" placeholder="Nairobi" [(ngModel)]="senderCity" name="senderCity">
            </div>
            <!-- <div class="middle">
                <label for="name">State/Province</label>
                <input type="text" placeholder="Nairobi" [(ngModel)]="senderState" name="senderState">
            </div> -->
            <div class="right">
                <label for="name">Zip/Postal Code</label>
                <input type="text" placeholder="00200" [(ngModel)]="senderZip" name="senderZip">
            </div>
        </div>
        <label for="">Phone</label>
        <input type="tel" placeholder="+254765345891" [(ngModel)]="senderPhone" name="senderPhone">
    </div>

    <div class="sender">
        <h3>Recipient Information</h3>
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="example@gmail.com" required [(ngModel)]="recipientEmail" name="recipientEmail">
        <label for="Country">Country/Region</label>
        <input type="text" id="country" placeholder="Kenya" required [(ngModel)]="recipientCountry" name="recipientCountry">
        <div class="name">
            <div class="left">
                <label for="name">First Name</label>
                <input type="text" placeholder="Liz" [(ngModel)]="recipientFirstName" name="recipientFirstName">
            </div>
            <div class="right">
                <label for="name">Last Name</label>
                <input type="text" placeholder="Beth" [(ngModel)]="recipientLastName" name="recipientLastName">
            </div>
        </div>
        <label for="address">Street Address</label>
        <input type="text" placeholder="423 Elm Street" [(ngModel)]="recipientAddress" name="recipientAddress">
        <div class="street">
            <div class="left">
                <label for="name">City</label>
                <input type="text" placeholder="Nairobi" [(ngModel)]="recipientCity" name="recipientCity">
            </div>
            <!-- <div class="middle">
                <label for="name">State/Province</label>
                <input type="text" placeholder="Nairobi" [(ngModel)]="recipientState" name="recipientState">
            </div> -->
            <div class="right">
                <label for="name">Zip/Postal Code</label>
                <input type="text" placeholder="00200" [(ngModel)]="recipientZip" name="recipientZip">
            </div>
        </div>
        <label for="">Phone</label>
        <input type="tel" placeholder="+254765345891" [(ngModel)]="recipientPhone" name="recipientPhone">
    </div>

    <div class="pckg">
        <h3>Package Details</h3>
        <label for="">Package Type</label>
        <select name="packageType" id="" [(ngModel)]="packageType">
            <option value="">Choose Type</option>
            <option>Light Package(upto 1kg)</option>
            <option>Medium Package(1-5kg)</option>
            <option>Heavy Package(5-10kg)</option>
            <option>Bulky Package(more than 10kg)</option>
        </select>
        <div class="weight">
            <div class="kg">
                <label for="kg">Weight (kg)</label>
                <input type="number" placeholder="2.5" required [(ngModel)]="weight" name="weight">
            </div>
            <!-- <div class="cm">
                <label for="cm">Dimensions (cm) L * W * H</label>
                <div class="lwh">
                <input type="text" placeholder="30" [(ngModel)]="length" name="length">
                <input type="text" placeholder="20" [(ngModel)]="width" name="width">
                <input type="text" placeholder="10" [(ngModel)]="height" name="height">
                </div>
            </div> -->
        </div>
        <label for="origin">Origin</label>
        <input type="text" id="origin" placeholder="Origin address" [(ngModel)]="packageOrigin" name="packageOrigin">
        <label for="description">Description</label>
        <input type="text" id="description" placeholder="Parcel description" [(ngModel)]="packageDescription" name="packageDescription">
        <label for="pickup">Pickup Location</label>
        <input type="text" id="pickup" placeholder="Pickup address" [(ngModel)]="packagePickup" name="packagePickup">
        <label for="destination">Destination</label>
        <input type="text" id="destination" placeholder="Destination address" [(ngModel)]="packageDestination" name="packageDestination">
        <label for="">Special Instructions (optional)</label>
        <textarea name="specialInstructions" id="" [(ngModel)]="specialInstructions"></textarea>
    </div>

    <!-- <div class="opt">
        <h3>Delivery Options</h3>
        <div class="opt-card">
            <div class="left">
                <img src="" alt="">
                <div class="days">
                    <h5>Standard Delivery</h5>
                    <p>3-5 business days</p>
                </div>
            </div>
            <div class="right">
                <p>Kes 500</p>
            </div>
        </div>
        <div class="opt-card">
            <div class="left">
                <img src="" alt="">
                <div class="days">
                    <h5>Express Delivery</h5>
                    <p>1-2 business days</p>
                </div>
            </div>
            <div class="right">
                <p>Kes 1500</p>
            </div>
        </div>
        <div class="opt-card">
            <div class="left">
                <img src="" alt="">
                <div class="days">
                    <h5>Same-Day Delivery</h5>
                    <p>Available in same area</p>
                </div>
            </div>
            <div class="right">
                <p>Kes 2000</p>
            </div>
        </div> -->
        <label for="">Preferred Delivery Date</label>
        <input type="date" placeholder="date" [(ngModel)]="deliveryDate" name="deliveryDate">
        <div class="add">
            <div class="left">
                <h5>Add Delivery Insurance</h5>
                <p>Protect your parcel against loss or damage</p>
            </div>
            <div class="right">
                <img src="" alt="">
            </div>
        </div>
    </div>
    <button type="button" (click)="createParcel()" [disabled]="loading">
      <span *ngIf="!loading">Create Delivery</span>
      <span *ngIf="loading">Creating...</span>
    </button>
    <div *ngIf="message" [ngClass]="{'alert-success': messageType === 'success', 'alert-error': messageType === 'error'}" class="custom-alert" style="margin-left: 250px;">
    {{ message }}
  </div>
</div>

<!-- Driver Assignment Section -->
<div *ngIf="showDriverAssignment" class="driver-assignment">
  <h3>Assign Driver</h3>
  <p>Select an available driver to assign to this delivery:</p>
  
  <div class="drivers-list">
    <div *ngFor="let driver of availableDrivers" class="driver-card">
      <div class="driver-info">
        <h4>{{ driver.name }}</h4>
        <p><strong>Email:</strong> {{ driver.email }}</p>
        <p *ngIf="driver.phone"><strong>Phone:</strong> {{ driver.phone }}</p>
        <p><strong>Status:</strong> <span class="status-available">{{ driver.status }}</span></p>
      </div>
      <div class="driver-select">
        <input type="radio" 
               [id]="driver.id" 
               name="selectedDriver" 
               [value]="driver.id" 
               [(ngModel)]="selectedDriverId">
        <label [for]="driver.id">Select</label>
      </div>
    </div>
  </div>
  
  <div *ngIf="availableDrivers.length === 0" class="no-drivers">
    <p>No available drivers at the moment.</p>
  </div>
  
  <div class="assignment-actions">
    <button type="button" (click)="assignDriver()" [disabled]="!selectedDriverId || loading" class="assign-btn">
      <span *ngIf="!loading">Assign Driver</span>
      <span *ngIf="loading">Assigning...</span>
    </button>
    <button type="button" (click)="skipDriverAssignment()" class="skip-btn">
      Skip for Now
    </button>
  </div>
</div>
</div>
